纷云中所有文本消息都使用了相同的格式化体系，包括频道、群聊、私聊、评论。### 转义过滤为了安全考虑，我们对所有的输入进行了转义过滤，建议调用纷云API的时候传入数据做以下处理：```& 替换成 &amp;< 替换成 &lt;> 替换成 &gt;```### 多行文本消息可以通过纷云的API发送多行文本消息，在文本中必须使用 `\n`，比如：```{"text": "这是文本消息的第一行.\n这是另外一行。"}```在消息列表展示如下：![多行文本消息](/img/doc_formatting_01.png)### 表情为了支持跨平台，发送给纷云API的表情都被格式化为 `:smile:` ，每个平台会根据匹配文本消息中的表情，然后转换成对应平台可以展示的文本。### 消息 Markdown为了实现跨平台显示消息的一致性，纷云中的文本消息支持部分 [Markdown](http://daringfireball.net/projects/markdown/) 语法，分别为`*加粗*`，`_斜体_`，<code>\`代码\`</code>，<code>\`\`\`格式化\`\`\`</code>，` >引用`。展示结果如下：![Markdown](/img/doc_formatting_02.png)### 链接通过纷云API发送文本消息如果需要带有一个链接URL，必须通过这种方式`[URL]`，比如：```http://worktile.com/ -> [http://worktile.com/]```修改链接显示的文字，可以通过`[http://worktile.com/|这是一个 Worktile 链接]`两种链接展示的结果如下：![链接](/img/doc_formatting_03.png)### 自定义格式除了链接外，纷云还支持其他几种自定义的格式，都是通过`[xxx]`这种格式，分别如下：1. `[@54704b26c7dd2059dfeb81c6|Terry]`，则这条消息@了用户id为`54...`的成员；1. `[#55843239c72c5c2a1865d0f0|开发小队]`，则这条消息@了频道id为`55...`的频道；1. `[!group|群组]`，则表示@群组所有成员；1. `[!channel|频道]`，则表示@频道所有成员。以上消息的展示分别如下：![自定义格式](/img/doc_formatting_04.png)